# =============================================================================
# P&ID Pipeline Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
DB_USER=pid_user
DB_PASSWORD=change_me_secure_password
DB_NAME=pid_pipeline
DB_HOST=postgres
DB_PORT=5432

DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# -----------------------------------------------------------------------------
# Redis (Celery Broker)
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

CELERY_BROKER_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}
CELERY_RESULT_BACKEND=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# -----------------------------------------------------------------------------
# CVAT Integration
# -----------------------------------------------------------------------------
CVAT_URL=http://localhost:8080
CVAT_TOKEN=your_cvat_api_token_here
CVAT_PROJECT_ID=1
CVAT_NETWORK_NAME=cvat_cvat

# -----------------------------------------------------------------------------
# Storage
# -----------------------------------------------------------------------------
STORAGE_PATH=/storage/diagrams

# -----------------------------------------------------------------------------
# ML Models
# -----------------------------------------------------------------------------
YOLO_WEIGHTS=/models/yolo/best.pt
U2NET_WEIGHTS=/models/u2net/best.pth
JUNCTION_WEIGHTS=/models/junction/best.pth

# -----------------------------------------------------------------------------
# Celery Worker
# -----------------------------------------------------------------------------
CELERY_TASK_TIME_LIMIT=3600
CELERY_CONCURRENCY=2

# -----------------------------------------------------------------------------
# API
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=true

# -----------------------------------------------------------------------------
# UI Settings
# -----------------------------------------------------------------------------
STATUS_POLL_INTERVAL=2000
STATUS_PROVIDER=polling

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO